---
title: Πειράματα Στούντιο εκμάθησης μηχανής (κλασικό)
description: Χρησιμοποιήστε μοντέλα του Στούντιο εκμάθησης μηχανών (κλασικό) στο Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 556b6810db0ed2733a3f086291757bd85b77e371
ms.sourcegitcommit: a9b2cf598f256d07a48bba8617347ee90024a1dd
ms.translationtype: HT
ms.contentlocale: el-GR
ms.lasthandoff: 12/03/2020
ms.locfileid: "4669018"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a>Χρησιμοποιήστε μοντέλα με βάση το Στούντιο εκμάθησης μηχανών Azure (κλασικό)

Τα ενοποιημένα δεδομένα στο Dynamics 365 Customer Insights είναι μια προέλευση για τη δημιουργία μοντέλων εκμάθησης μηχανής που μπορούν να δημιουργήσουν πρόσθετες επιχειρηματικές πληροφορίες. Το Customer Insights ενσωματώνεται στο Στούντιο εκμάθησης μηχανής (κλασικό) για να χρησιμοποιήσετε τα δικά σας προσαρμοσμένα μοντέλα. Για να δείτε τον τρόπο με τον οποίο τα μοντέλα που αναπτύχθηκαν στην Εκμάθηση μηχανής Azure ενσωματώνονται στο Customer Insights, ανατρέξτε στην ενότητα [Πειράματα εκμάθησης μηχανής Azure](azure-machine-learning-experiments.md).

## <a name="prerequisites"></a>Προϋποθέσεις

- Πρόσβαση στο Customer Insights
- Ενεργή συνδρομή Azure Enterprise
- [Ενοποιημένα προφίλ πελατών](data-unification.md)
- Ρύθμιση [Εξαγωγή οντοτήτων σε χώρο αποθήκευσης αντικειμένων BLOB Azure](export-azure-blob-storage.md)

## <a name="set-up-machine-learning-studio-classic"></a>Ρύθμιση του Κλασικού Στούντιο εκμάθησης μηχανής

Σε ένα πρώτο βήμα, πρέπει να δημιουργήσουμε έναν χώρο εργασίας και να ανοίξουμε το Στούντιο εκμάθησης μηχανής (κλασικό).

1. Μεταβείτε στο [https://www.portal.azure.com](https://www.portal.azure.com/) και συνδεθείτε.

1. Επιλέξτε **Δημιουργία πόρου**.

1. Αναζητήστε **Χώρος εργασίας του στούντιο εκμάθησης μηχανής** και επιλέξτε **Δημιουργία**.

1. Καταγράψτε τα απαιτούμενα στοιχεία για να [δημιουργήσετε τον χώρο εργασίας](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace). Επιλέξτε το **επίπεδο τιμολόγησης σχεδίου υπηρεσίας Web** με βάση την ποσότητα των δεδομένων που σχεδιάζετε να εισαγάγετε. Για βέλτιστη απόδοση, επιλέξτε τη **Θέση** που είναι πλησιέστερη σε εσάς γεωγραφικά.

1. Μετά τη δημιουργία του πόρου, θα εμφανιστεί ο πίνακας εργαλείων του χώρου εργασία του Στούντιο εκμάθησης μηχανής. Επιλέξτε **Έναρξη Στούντιο εκμάθησης μηχανής**.

   ![Περιβάλλον εργασίας χρήστη στούντιο Azure Machine Learning](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a>Εργασία με το στούντιο Azure Machine Learning

Τώρα, μπορείτε να δημιουργήσετε ένα νέο πείραμα ή να εισαγάγετε ένα υπάρχον πρότυπο πειράματος από τη συλλογή δειγμάτων. Υπάρχουν δείγματα πειραμάτων για τρία τυπικά σενάρια:

- [Πρόβλεψη απώλειας](#churn-analysis)

- [Τιμή ζωής πελάτη](#customer-lifetime-value-prediction)

- [Σύσταση προϊόντος ή επόμενη βέλτιστη ενέργεια](#productrecommendation-or-next-best-action)

1. Εάν δημιουργήσετε ένα νέο πείραμα ή χρησιμοποιήσετε ένα πρότυπο πειράματος από τη συλλογή, θα πρέπει να ρυθμίσετε τις παραμέτρους των ιδιοτήτων **Εισαγωγή δεδομένων**. Χρησιμοποιήστε την καθοδηγούμενη εμπειρία ή παρέχετε απευθείας λεπτομέρειες για πρόσβαση στον χώρο αποθήκευσης αντικειμένων BLOB Azure που περιέχει τα δεδομένα σας.  

   ![Πείραμα του στούντιο Azure Machine Learning](media/azure-machine-learning-studio-experiment.png)

1. Τώρα, μπορείτε να δημιουργήσετε μια προσαρμοσμένη διοχέτευση επεξεργασίας για τον καθαρισμό και την προεπεξεργασία των δεδομένων, την εξαγωγή δυνατοτήτων και την εκπαίδευση ενός κατάλληλου μοντέλου.

1. Δοκιμάστε και βελτιστοποιήστε την απόδοση του μοντέλου.

1. Όταν είστε ικανοποιημένοι με την ποιότητα ενός μοντέλου, επιλέξτε **Ρύθμιση υπηρεσίας Web** > **Προβλεπτική υπηρεσία Web**. Αυτή η επιλογή εισάγει το εκπαιδευμένο μοντέλο και τη διοχέτευση ανάπτυξης δυνατοτήτων από το πείραμα εκπαίδευσης σε μια προγνωστική υπηρεσία. Η προγνωστική υπηρεσία μπορεί να λάβει ένα άλλο σύνολο δεδομένων εισόδου με το σχήμα που χρησιμοποιείται στο πείραμα εκπαίδευσης για την πραγματοποίηση προβλέψεων.

   ![Ρύθμιση μιας προγνωστικής υπηρεσίας Web](media/predictive-webservice-control.png)

1. Αφού ολοκληρωθεί με επιτυχία το πείραμα προγνωστικής υπηρεσίας Web, μπορείτε να το αναπτύξετε για αυτόματο προγραμματισμό. Για να λειτουργεί η υπηρεσία Web με το Customer Insights, επιλέξτε **Ανάπτυξη υπηρεσίας Web** > **Ανάπτυξη προεπισκόπησης υπηρεσίας Web [Νέα]**. [Μάθετε περισσότερα για την ανάπτυξη μιας υπηρεσίας Web](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).

   ![Ανάπτυξη μιας προγνωστικής υπηρεσίας Web](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a>Δείγματα μοντέλων από τη συλλογή

Θα χρησιμοποιήσουμε ένα φανταστικό σενάριο του Contoso Hotel για τα μοντέλα που περιλαμβάνονται σε αυτό το άρθρο. Το Contoso Hotel συγκεντρώνει τα ακόλουθα δεδομένα:

- Δεδομένα CRM που αποτελούνται από δραστηριότητα διαμονής στο ξενοδοχείο. Το σύνολο δεδομένων περιλαμβάνει πληροφορίες σχετικά με τις ημερομηνίες διαμονής για κάθε καταχωρημένο πελάτη. Περιέχει επίσης πληροφορίες σχετικά με την κράτηση, τους τύπους δωματίων, τις λεπτομέρειες των δαπανών και ούτω καθεξής. Τα δεδομένα καλύπτουν διάρκεια τεσσάρων ετών, από τον Ιανουάριο του 2014 έως τον Ιανουάριο του 2018.
- Προφίλ πελατών των επισκεπτών του ξενοδοχείου. Αυτά τα προφίλ περιέχουν πληροφορίες σχετικά με κάθε πελάτη, συμπεριλαμβανομένου του ονόματός τους, της ημερομηνίας γέννησης, της ταχυδρομικής διεύθυνσης, του φύλου και του αριθμού τηλεφώνου.
- Χρήση των υπηρεσιών που προσφέρονται από το ξενοδοχείο, όπως το σπα, το πλυντήριο, το WiFi ή ο κούριερ. Αυτές οι πληροφορίες καταγράφονται για κάθε καταχωρημένο πελάτη. Κατά κανόνα, η χρήση των υπηρεσιών συνδέεται με τη διαμονή. Σε ορισμένες περιπτώσεις, οι υπηρεσίες μπορούν να χρησιμοποιηθούν από τους πελάτες χωρίς να διαμένουν στο ξενοδοχείο.

## <a name="churn-analysis"></a>Ανάλυση απώλειας

Η ανάλυση απώλειας ισχύει για διαφορετικές επιχειρηματικές περιοχές. Σε αυτό το παράδειγμα, θα αναζητήσουμε την απώλεια υπηρεσιών, συγκεκριμένα στο πλαίσιο των υπηρεσιών του ξενοδοχείου, όπως περιγράφεται παραπάνω. Παρέχει ένα παράδειγμα εργασίας μιας διοχέτευσης μοντέλου από άκρο σε άκρο, το οποίο μπορεί να χρησιμοποιηθεί ως σημείο εκκίνησης για οποιονδήποτε άλλο τύπο μοντέλου απώλειας.

### <a name="definition-of-churn"></a>Ορισμός της απώλειας

Ο ορισμός της απώλειας μπορεί να διαφέρει ανάλογα με το σενάριο. Σε αυτό το παράδειγμα, ένας φιλοξενούμενος που δεν έχει επισκεφθεί το ξενοδοχείο κατά τη διάρκεια του περασμένου έτους θα πρέπει να χαρακτηριστεί ως «χαμένος».  

Το πρότυπο πειράματος μπορεί να εισαχθεί από τη συλλογή. Αρχικά, βεβαιωθείτε ότι έχετε εισαγάγει τα δεδομένα για τη **Δραστηριότητα διαμονής του ξενοδοχείου**, τα **δεδομένα πελατών** και τα **δεδομένα χρήσης υπηρεσίας** από τον χώρο αποθήκευσης αντικειμένου BLOB Azure.

   ![Εισαγωγή δεδομένων για μοντέλο απώλειας](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a>Ανάπτυξη δυνατοτήτων

Με βάση τον ορισμό της απώλειας, πρέπει πρώτα να προσδιορίσουμε τις πρώτες δυνατότητες που θα επηρεάσουν την ετικέτα. Στη συνέχεια, επεξεργαζόμαστε αυτές τις πρώτες δυνατότητα σε αριθμητικές δυνατότητες που μπορούν να χρησιμοποιηθούν με μοντέλα εκμάθησης μηχανής. Η ενοποίηση δεδομένων συμβαίνει στο Customer Insights, ώστε να μπορέσουμε να ενώσουμε αυτούς τους πίνακες χρησιμοποιώντας το *Αναγνωριστικό πελάτη*.

   ![Σύνδεση δεδομένων που έχουν εισαχθεί](media/join-imported-data.png)

Η ανάπτυξη δυνατοτήτων για την οικοδόμηση του μοντέλου για την ανάλυση απώλειας μπορεί να είναι κάπως δυσνόητη. Τα δεδομένα είναι μια συνάρτηση χρόνου με τη νέα δραστηριότητα του ξενοδοχείου να καταγράφεται σε καθημερινή βάση. Κατά την ανάπτυξη δυνατοτήτων, θέλουμε να δημιουργήσουμε στατικές δυνατότητες από τα δυναμικά δεδομένα. Σε αυτήν την περίπτωση, παράγουμε πολλαπλές δυνατότητες από τη δραστηριότητα του ξενοδοχείου με ένα συρόμενο παράθυρο ενός έτους. Επίσης, επεκτείνουμε τις κατηγορηματικές δυνατότητες, όπως τον τύπο δωματίου ή τον τύπο κράτησης, σε ξεχωριστές δυνατότητες, χρησιμοποιώντας μια θερμή κωδικοποίηση.  

Τελική λίστα δυνατοτήτων:

| **Αριθμός**  | **Original_Column**          | **Παραγόμενες δυνατότητες**                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| 1           | Τύπος δωματίου                    | RoomTypeLargeCount, RoomTypeSmallCount                                                                                                    |
| 2           | Τύπος κράτησης                 | BookingTypeOnlineCount, BookingTypePhoneCallCount                                                                                         |
| 3           | Κατηγορία ταξιδιού              | TravelCategoryBusinessCount, TravelCategoryLeisureCount                                                                                   |
| 4           | Δολάρια που δαπανώνται                | TotalDollarSpent                                                                                                                          |
| 5           | Ημερομηνία άφιξης και αποχώρησης  | StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016. StayCount2015, StayCount2014                |
| 6           | Χρήση υπηρεσίας                | UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage  |

### <a name="model-selection"></a>Επιλογή μοντέλου

Τώρα πρέπει να επιλέξουμε τον βέλτιστο αλγόριθμο που θα χρησιμοποιηθεί. Σε αυτήν την περίπτωση, οι περισσότερες δυνατότητες βασίζονται σε κατηγορηματικές δυνατότητες. Κατά κανόνα, τα μοντέλα που βασίζονται σε δέντρο αποφάσεων λειτουργούν καλά. Εάν υπάρχουν μόνο αριθμητικές δυνατότητες, τα νευρωνικά δίκτυα θα μπορούσαν να είναι μια καλύτερη επιλογή. Η διανυσματική μηχανή υποστήριξης (SVM) είναι επίσης καλή υποψήφια σε τέτοιες καταστάσεις. Ωστόσο, χρειάζεται αρκετός συντονισμός για την εξαγωγή των καλύτερων επιδόσεων. Επιλέγουμε **δένδρο ενισχυμένων αποφάσεων δύο τάξεων** ως το πρώτο μοντέλο επιλογής, το οποίο ακολουθείται από **SVM δύο τάξεων** ως το δεύτερο μοντέλο. Το στούντιο Azure Machine Learning σάς δίνει τη δυνατότητα να κάνετε δοκιμές Α/Β, επομένως είναι ωφέλιμο να ξεκινήσετε με δύο μοντέλα αντί για ένα.

Η παρακάτω εικόνα δείχνει τη διοχέτευση εκπαίδευσης μοντέλου και αξιολόγησης από το στούντιο Azure Machine Learning:

![Μοντέλο απώλειας σε στούντιο Azure Machine Learning](media/azure-machine-learning-model.png)

Εφαρμόζουμε, επίσης, μια τεχνική που ονομάζεται **Σημασία δυνατότητας διάταξης**, μια σημαντική πτυχή της βελτιστοποίησης μοντέλου. Τα ενσωματωμένα μοντέλα δεν έχουν καμία δεδομενική πληροφορία για τον αντίκτυπο οποιασδήποτε συγκεκριμένης δυνατότητας στην τελική πρόβλεψη. Ο υπολογιστής σπουδαιότητας δυνατότητας χρησιμοποιεί έναν προσαρμοσμένο αλγόριθμο για τον υπολογισμό της επίδρασης μεμονωμένων δυνατοτήτων στο αποτέλεσμα ενός συγκεκριμένου μοντέλου. Η σπουδαιότητα της δυνατότητας έχει ομαλοποιηθεί μεταξύ +1 και -1. Μια αρνητική επίδραση σημαίνει ότι η αντίστοιχη δυνατότητα έχει αντιφατική επίδραση στο αποτέλεσμα και θα πρέπει να καταργηθεί από το μοντέλο. Μια θετική επίδραση δείχνει ότι η δυνατότητα συμβάλλει σημαντικά στην πρόβλεψη. Αυτές οι τιμές δεν είναι συντελεστές συσχέτισης, καθώς είναι διαφορετικές μετρήσεις. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Σημασία δυνατότητας διάταξης](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).

Το συνολικό [πείραμα απώλειας είναι διαθέσιμο στη συλλογή Azure AI](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).

## <a name="customer-lifetime-value-prediction"></a>Πρόβλεψη τιμής ζωής πελάτη

Ο υπολογισμός της τιμής ζωής του πελάτη (CLTV) είναι ένα από τα βασικά μετρικά που μπορεί να χρησιμοποιήσει μια επιχείρηση για την αξιολόγηση και την κατάτμηση των πελατών της. Για τις ξενοδοχειακές επιχειρήσεις, είναι σημαντικό να γνωρίζετε τους πελάτες σας. Για παράδειγμα, η κατανόηση των παραγόντων που αποτελούν καλούς πελάτες είναι μια κρίσιμη πληροφορία. Βοηθάει τη διαχείριση του ξενοδοχείου να αξιολογεί τις δυνατότητες που χρειάζεται για να επικεντρωθεί και να βελτιώσει την ικανοποίηση των πελατών που πληρώνουν πολλά. Αυτές οι αποφάσεις μπορεί να έχουν άμεσο αντίκτυπο στις πωλήσεις και τα κέρδη.  

### <a name="definition-of-cltv"></a>Ορισμός του CLTV

Για αυτό το παράδειγμα, ορίζουμε το CLTV ενός πελάτη ως το συνολικό ποσό δολαρίων που αναμένεται να δαπανήσει ο πελάτης στις επόμενες 365 ημέρες. Θα χρησιμοποιήσουμε τα δεδομένα των τριών τελευταίων ετών για όλους τους πελάτες, ώστε να προβλέψουμε αυτήν την τιμή.

### <a name="featurization"></a>Ανάπτυξη δυνατοτήτων

Σε αυτήν την περίπτωση, η ανάπτυξη δυνατοτήτων θα είναι αρκετά όπως το σενάριο απώλειας. Ωστόσο, οι ετικέτες και οι αναμενόμενες τιμές είναι διαφορετικές από αυτές που ορίζονται παραπάνω.

### <a name="model-selection"></a>Επιλογή μοντέλου

Η πρόβλεψη του CLTV είναι ένα πρόβλημα παλινδρόμησης, καθώς η αναμενόμενη τιμή είναι μια θετικά αποτιμώμενη συνεχής μεταβλητή. Με βάση τις ιδιότητες των δυνατοτήτων, επιλέγουμε την **Προωθημένη παλινδρόμηση δέντρου αποφάσεων** ως έναν αλγόριθμο και την **Παλινδρόμηση νευρωνικών δικτύων** ως έναν ακόμα αλγόριθμο για την εκπαίδευση του μοντέλου.

## <a name="product-recommendation-or-next-best-action"></a>Σύσταση προϊόντος ή επόμενη βέλτιστη ενέργεια

Η σύσταση προϊόντων σε ένα σενάριο ξενοδοχείων ερμηνεύεται ως σύσταση υπηρεσιών που προσφέρονται από το ξενοδοχείο στους πελάτες. Ο στόχος είναι η επιλογή των κατάλληλων υπηρεσιών για τους πελάτες, ώστε να μεγιστοποιείται η χρήση τους. Είναι παρόμοια με τις προτάσεις ταινιών για χρήστες υπηρεσιών συνεχούς ροής βίντεο.

### <a name="definition-of-product-recommendation-or-next-best-action"></a>Ορισμός σύστασης προϊόντος ή επόμενη βέλτιστη ενέργεια

Ορίζουμε τον στόχο ως μεγιστοποίηση του ποσού των δολαρίων της χρήσης της υπηρεσίας προσφέροντας τις καλύτερες αντίστοιχες υπηρεσίες στους πελάτες του ξενοδοχείου σύμφωνα με το ενδιαφέρον τους.

### <a name="featurization"></a>Ανάπτυξη δυνατοτήτων

Όπως το μοντέλο απώλειας, ενώνουμε το ServiceCustomerID ξενοδοχείου με το CustomerID προκειμένου να οικοδομήσουμε συστάσεις με συνέπεια ανά CustomerID.

![Ανάπτυξη δυνατοτήτων του μοντέλου σύστασης](media/azure-machine-learning-model-featurization.png)

Τα δεδομένα προέρχονται από τρεις διαφορετικές οντότητες και οι δυνατότητες προέρχονται από αυτές. Η ανάπτυξη δυνατοτήτων για το πρόβλημα της σύστασης είναι διαφορετική σε σύγκριση με τα σενάρια απώλειας ή CLTV. Το μοντέλο σύστασης χρειάζεται δεδομένα εισόδου με τη μορφή τριών συνόλων δυνατοτήτων.

### <a name="model-selection"></a>Επιλογή μοντέλου

Προβλέπουμε τα προϊόντα ή τις υπηρεσίες χρησιμοποιώντας τον αλγόριθμο που ονομάζεται **Train Matchbox Recommender** για την εκπαίδευση του μοντέλου σύστασης.

![Αλγόριθμος σύστασης προϊόντων](media/azure-machine-learning-model-recommendation-algorithm.png)

Οι τρεις θύρες εισόδου για το μοντέλο **Train Matchbox Recommender** λαμβάνουν τα δεδομένα χρήσης της υπηρεσίας εκπαίδευσης, την περιγραφή πελάτη (προαιρετικά) και την περιγραφή υπηρεσίας. Υπάρχουν τρεις διαφορετικοί τρόποι βαθμολόγησης του μοντέλου. Το ένα αφορά την αξιολόγηση μοντέλου όπου ένας βαθμός Κανονικοποιημένου σωρευτικού κέρδους με έκπτωση (NDCG) υπολογίζεται για την κατάταξη των στοιχείων που έχουν εκχωρηθεί. Σε αυτό το πείραμα, έχουμε τη βαθμολογία NDCG ως 0,97. Οι άλλες δύο επιλογές είναι η βαθμολόγηση του μοντέλου σε ολόκληρο τον κατάλογο υπηρεσιών που συνιστώνται ή βαθμολόγηση μόνο των στοιχείων που δεν έχουν χρησιμοποιήσει στο παρελθόν οι χρήστες.

Κοιτώντας ακόμα πιο πέρα στις διανομές των συστάσεων στο σύνολο του καταλόγου υπηρεσιών, παρατηρούμε ότι το τηλέφωνο, το WiFi και ο κούριερ είναι οι κορυφαίες υπηρεσίες που θα πρέπει να προταθούν. Αυτό είναι συνεπές με αυτό που βρήκαμε από τις διανομές των δεδομένων κατανάλωσης υπηρεσιών:

![Έξοδος μοντέλου σύστασης](media/azure-machine-learning-model-output.png)

Ολόκληρο [το πείραμα σύστασης προϊόντων είναι προσβάσιμο στη συλλογή Azure AI.](https://gallery.azure.ai/Experiment/Recommendation-4)

## <a name="integrate-custom-models"></a>Ενσωμάτων προσαρμοσμένων μοντέλων

Για να χρησιμοποιήσετε αυτές τις προβλέψεις στο Customer Insights, θα πρέπει να **εξαγάγετε** τις προβλέψεις μαζί με τα αναγνωριστικά πελάτη. [Εξαγάγετέ τα στην ίδια θέση αποθήκευσης αντικειμένων blob Azure](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) με αυτήν στην οποία εξάγετε τα δεδομένα προέλευσης. Η προγνωστική υπηρεσία Web μπορεί να προγραμματιστεί για την τακτική εκτέλεση και την ενημέρωση των βαθμολογιών.

Τα δεδομένα που δημιουργούνται από το προσαρμοσμένο μοντέλο μπορούν να χρησιμοποιηθούν για τον περαιτέρω εμπλουτισμό των δεδομένων των πελατών σας. Για περισσότερες πληροφορίες, ανατρέξτε στην ενότητα [Προσαρμοσμένα μοντέλα εκμάθηση μηχανής](custom-models.md).
