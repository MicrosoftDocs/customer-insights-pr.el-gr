---
title: Προσαυξητική ανανέωση για Power Query και προελεύσεις δεδομένων Azure Data Lake
description: Ανανεώστε νέα και ενημερωμένα δεδομένα για μεγάλες προελεύσεις δεδομένων βάσει Power Query ή προελεύσεων δεδομένων Azure Data Lake.
ms.date: 05/30/2022
ms.reviewer: v-wendysmith
ms.subservice: audience-insights
ms.topic: how-to
author: mukeshpo
ms.author: mukeshpo
manager: shellyha
searchScope:
- ci-system-schedule
- customerInsights
ms.openlocfilehash: de39743eb8728fac34e417724c5f73bf44309c89
ms.sourcegitcommit: 5807b7d8c822925b727b099713a74ce2cb7897ba
ms.translationtype: HT
ms.contentlocale: el-GR
ms.lasthandoff: 07/28/2022
ms.locfileid: "9207137"
---
# <a name="incremental-refresh-for-power-query-and-azure-data-lake-data-sources"></a>Προσαυξητική ανανέωση για Power Query και προελεύσεις δεδομένων Azure Data Lake

Η αυξητική ανανέωση για πηγές δεδομένων με βάση το Power Query ή το Azure Data Lake παρέχει τα ακόλουθα πλεονεκτήματα:

- **Ταχύτερη ανανέωση** -Μόνο τα δεδομένα που έχουν αλλάξει ανανεώνονται. Για παράδειγμα, μπορείτε να ανανεώσετε μόνο τις πέντε τελευταίες ημέρες ενός ιστορικού συνόλου δεδομένων.
- **Αυξημένη αξιοπιστία** -Με μικρότερες ανανεώσεις, δεν χρειάζεται να διατηρήσετε τις συνδέσεις σε ασταθή συστήματα προέλευσης για όσο χρονικό διάστημα χρειαστεί, μειώνοντας τον κίνδυνο ζητημάτων σύνδεσης.
- **Μειωμένη κατανάλωση πόρων** - Η ανανέωση μόνο ενός υποσυνόλου των συνολικών δεδομένων σας οδηγεί σε πιο αποδοτική χρήση των υπολογιστικών πόρων και μειώνει το περιβαλλοντικό αποτύπωμα.

## <a name="configure-incremental-refresh-for-data-sources-based-on-power-query"></a>Ρύθμιση παραμέτρων τμηματικής ανανέωσης για προελεύσεις δεδομένων που βασίζονται σε Power Query

Το Customer Insights επιτρέπει την τμηματική ανανέωση για προελεύσεις δεδομένων που εισάγονται μέσω του Power Query που υποστηρίζουν την τμηματική πρόσληψη. Για παράδειγμα, οι βάσεις δεδομένων Azure SQL με πεδία ημερομηνίας και ώρας, τα οποία υποδεικνύουν την ημερομηνία τελευταίας ενημέρωσης των καρτελών δεδομένων.

1. [Δημιουργήστε μια νέα προέλευση δεδομένων με βάση το Power Query](connect-power-query.md).

1. Επιλέξτε μια προέλευση δεδομένων που υποστηρίζει τμηματική ανανέωση, όπως τη [βάση δεδομένων Azure SQL](/power-query/connectors/azuresqldatabase).

1. Επιλέξτε τις οντότητες ή τους πίνακες που θα συγκεντρωθούν.

1. Ολοκληρώστε τα βήματα μετασχηματισμού και επιλέξτε **Επόμενο**.

1. Στο παράθυρο διαλόγου **Ρύθμιση τμηματικής ανανέωσης**, επιλέξτε **Ρύθμιση** για να ανοίξετε τις **Ρυθμίσεις τμηματικής ανανέωσης**. Εάν επιλέξετε **Παράλειψη**, η προέλευση δεδομένων θα ανανεώσει ολόκληρο το σύνολο δεδομένων.
   > [!TIP]
   > Μπορείτε, επίσης, να εφαρμόσετε σταδιακή ανανέωση μεταγενέστερα με την επεξεργασία μιας υπάρχουσας προέλευσης δεδομένων.

1. Στις **Ρυθμίσεις τμηματικής ανανέωσης** θα ρυθμίσετε τις παραμέτρους της στοιχειώδους ανανέωσης για όλες τις οντότητες που επιλέξατε κατά τη δημιουργία της προέλευσης δεδομένων.

   :::image type="content" source="media/incremental-refresh-settings.png" alt-text="Ρύθμιση παραμέτρων ρυθμίσεων τμηματικής ανανέωσης.":::

1. Επιλέξτε μια οντότητα και δώστε τις εξής λεπτομέρειες:

   - **Ορισμός του πρωτεύοντος κλειδιού**: Επιλέξτε ένα πρωτεύον κλειδί για την οντότητα ή τον πίνακα.
   - **Καθορίστε το πεδίο "τελευταίο ενημερωμένο"**: Αυτό το πεδίο θα εμφανίσει μόνο τα χαρακτηριστικά τύπου "ημερομηνία" ή "ώρα". Επιλέξτε ένα χαρακτηριστικό που υποδεικνύει την ώρα τελευταίας ενημέρωσης των καρτελών. Θα χρησιμοποιηθεί για τον προσδιορισμό των καρτελών που εμπίπτουν στο χρονικό πλαίσιο σταδιακής ανανέωσης.
   - **Έλεγχος για ενημερώσεις κάθε**: Καθορίστε τη διάρκεια που θέλετε να έχει το χρονικό πλαίσιο τμηματικής ανανέωσης.

1. Επιλέξτε **Αποθήκευση** για να ολοκληρώσετε τη δημιουργία της προέλευσης δεδομένων. Η αρχική ανανέωση των δεδομένων θα είναι πλήρης. Στη συνέχεια, η τμηματική ανανέωση των δεδομένων θα γίνει όπως έχει ρυθμιστεί στο προηγούμενο βήμα.

## <a name="configure-incremental-refresh-for-azure-data-lake-data-sources"></a>Ρύθμιση παραμέτρων τμηματικής ανανέωσης για προελεύσεις δεδομένων Azure Data Lake

Το Customer Insights επιτρέπει την τμηματική ανανέωση για προελεύσεις δεδομένων που είναι συνδεδεμένες στο Azure Data Lake Storage. Για να χρησιμοποιήσετε τμηματική πρόσληψη και ανανέωση για μια οντότητα, ρυθμίστε τις παραμέτρους αυτής της οντότητας κατά την προσθήκη προέλευσης δεδομένων Azure Data Lake ή μεταγενέστερη έκδοση κατά την επεξεργασία της προέλευσης δεδομένων. Ο φάκελος δεδομένων οντότητας πρέπει να περιέχει τους ακόλουθους φακέλους:

- **FullData**: Φάκελος με αρχεία δεδομένων που περιέχουν αρχικές καρτέλες
- **IncrementalData**: Φάκελος με φακέλους ιεραρχίας ημερομηνίας/ ώρας σε μορφή **εεεε/μμ/ηη/ωω** που περιέχει τις τμηματικές ενημερώσεις. Το **ωω** αντιπροσωπεύει την ώρα UTC των ενημερώσεων και περιέχει τους φακέλους **Upserts** και **Διαγραφές**. Οι **Upserts** περιέχουν αρχεία δεδομένων με ενημερώσεις για υπάρχουσες καρτέλες ή νέες καρτέλες. Οι **διαγραφές** περιέχουν αρχεία δεδομένων με καρτέλες που πρέπει να καταργηθούν.

1. Κατά την προσθήκη ή την επεξεργασία προέλευσης δεδομένων, μεταβείτε στο τμήμα παραθύρου **Χαρακτηριστικά** για την οντότητα.

1. Ελέγξτε τα χαρακτηριστικά. Βεβαιωθείτε ότι το χαρακτηριστικό ημερομηνία δημιουργίας ή τελευταίας ενημέρωσης έχει ρυθμιστεί με **μορφή δεδομένων** *ημερομηνίας/ώρας* και με **τύπο σημασιολογικό** *Calendar.Date*. Εάν χρειάζεται, επεξεργαστείτε το χαρακτηριστικό και επιλέξτε **Ολοκλήρωση**.

1. Από το τμήμα παραθύρου **Επιλογή οντοτήτων**, επεξεργαστείτε την οντότητα. Το πλαίσιο ελέγχου **Τμηματική πρόσληψη** είναι επιλεγμένο.

   :::image type="content" source="media/ADLS_inc_refresh.png" alt-text="Ρύθμιση παραμέτρων οντοτήτων σε προέλευση δεδομένων για σταδιακή ανανέωση.":::

   1. Μεταβείτε στο ριζικό φάκελο που περιέχει τα αρχεία .csv ή .parquet για πλήρη δεδομένα, τμηματικές λήψεις δεδομένων και τμηματικές διαγραφές δεδομένων.
   1. Εισαγάγετε την επέκταση για τα πλήρη δεδομένα και τα δύο τμηματικά αρχεία (\.csv ή \.parquet).
   1. Για αρχεία .csv, επιλέξτε τον οριοθέτη στήλης και εάν θέλετε την πρώτη σειρά του αρχείου ως κεφαλίδα στήλης.
   1. Επιλέξτε **Αποθήκευση**.

1. Για την **τελευταία ενημέρωση**, επιλέξτε το χαρακτηριστικό χρονικής σήμανσης ημερομηνίας.

1. Εάν δεν έχει επιλεχθεί το **πρωτεύον κλειδί**, επιλέξτε το πρωτεύον κλειδί. Το πρωτεύον κλειδί είναι ένα χαρακτηριστικό που είναι μοναδικό για την οντότητα. Για να είναι ένα χαρακτηριστικό έγκυρο πρωτεύον κλειδί, δεν πρέπει να περιλαμβάνει διπλότυπες τιμές, τιμές που λείπουν ή τιμές null. Τα χαρακτηριστικά τύπου δεδομένων συμβολοσειράς, ακέραιου και GUID υποστηρίζονται ως πρωτεύοντα κλειδιά.

1. Επιλέξτε το στοιχείο **Κλείσιμο** για να αποθηκεύσετε και να κλείσετε το τμήμα παραθύρου.

1. Συνεχίστε με την προσθήκη ή την επεξεργασία της προέλευσης δεδομένων.

[!INCLUDE [footer-include](includes/footer-banner.md)]
