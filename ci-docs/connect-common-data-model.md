---
title: Σύνδεση σε φάκελο του Common Data Model με χρήση ενός λογαριασμού Azure Data Lake
description: Εργασία με δεδομένα του Common Data Model χρησιμοποιώντας το Azure Data Lake Storage.
ms.date: 09/29/2022
ms.topic: how-to
author: mukeshpo
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-data-sources
- ci-create-data-source
- ci-attach-cdm
- customerInsights
ms.openlocfilehash: c12603b9ed8a814356a0f8d0137e97afc749b87c
ms.sourcegitcommit: be341cb69329e507f527409ac4636c18742777d2
ms.translationtype: HT
ms.contentlocale: el-GR
ms.lasthandoff: 09/30/2022
ms.locfileid: "9609942"
---
# <a name="connect-to-data-in-azure-data-lake-storage"></a>Σύνδεση σε δεδομένα στο Azure Data Lake Storage

Πρόσληψη δεδομένων στο Dynamics 365 Customer Insights χρησιμοποιώντας το λογαριασμό σας Gen2 Azure Data Lake Storage. Η πρόσληψη δεδομένων μπορεί να είναι πλήρης ή τμηματική.

## <a name="prerequisites"></a>Προϋποθέσεις

- Η πρόσληψη δεδομένων υποστηρίζει αποκλειστικά λογαριασμούς Azure Data Lake Storage *Gen2*. Δεν μπορείτε να χρησιμοποιήσετε λογαριασμούς Data Lake Storage Gen1 για πρόσληψη δεδομένων.

- Ο λογαριασμός Azure Data Lake Storage πρέπει να έχει [ενεργοποιημένο τον ιεραρχικό χώρο ονομάτων](/azure/storage/blobs/data-lake-storage-namespace). Τα δεδομένα πρέπει να αποθηκεύονται σε ιεραρχική μορφή φακέλου που καθορίζει το ριζικό φάκελο και έχει υποφακέλους για κάθε οντότητα. Οι υποφακέλοι μπορεί να έχουν φακέλους για πλήρη δεδομένα ή τμηματικά δεδομένα.

- Για να ελέγξετε την ταυτότητά σας με έναν διευθυντή εξυπηρέτησης Azure, βεβαιωθείτε ότι έχει ρυθμιστεί στον μισθωτή σας. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Σύνδεση σε ένα λογαριασμό Azure Data Lake Storage Gen2 με κύριο υπηρεσίας Azure](connect-service-principal.md).

- Η Azure Data Lake Storage που θέλετε να συνδέσετε και να προσλάβετε δεδομένα από, πρέπει να βρίσκεται στην ίδια περιοχή Azure με το περιβάλλον Dynamics 365 Customer Insights. Οι συνδέσεις σε έναν φάκελο Common Data Model από μια λίμνη δεδομένων σε διαφορετική περιοχή του Azure δεν υποστηρίζονται. Για να γνωρίζετε την περιοχή Azure περιβάλλοντος, μεταβείτε στο **Διαχειριστής** > **Σύστημα** > **Σχετικά με** στο Customer Insights.

- Τα δεδομένα που είναι αποθηκευμένα στις ηλεκτρονικές υπηρεσίες, μπορούν να αποθηκευτούν σε διαφορετική θέση από αυτήν όπου γίνεται επεξεργασία ή αποθήκευση δεδομένων στο Dynamics 365 Customer Insights. Με την εισαγωγή ή τη σύνδεση των δεδομένων που είναι αποθηκευμένα σε ηλεκτρονικές υπηρεσίες συμφωνείτε ότι τα δεδομένα μπορούν να μεταφερθούν και να αποθηκευτούν στο Dynamics 365 Customer Insights. [Μάθετε περισσότερα στο Κέντρο αξιοπιστίας της Microsoft](https://www.microsoft.com/trust-center).

- Η αρχή υπηρεσίας Customer Insights πρέπει να περιλαμβάνεται σε έναν από τους παρακάτω ρόλους για να αποκτήσετε πρόσβαση στο λογαριασμό χώρου αποθήκευσης. Για περισσότερες πληροφορίες, ανατρέξτε στο [Εκχώρηση δικαιωμάτων στον κύριο υπηρεσίας για πρόσβαση στο λογαριασμό χώρου αποθήκευσης](connect-service-principal.md#grant-permissions-to-the-service-principal-to-access-the-storage-account).
  - Αναγνώστης δεδομένων blob αποθήκευσης
  - Κάτοχος δεδομένων blob αποθήκευσης
  - Συμβάλλων δεδομένων Blob αποθήκευσης

- Ο χρήστης που ρυθμίζει τη σύνδεση προέλευσης δεδομένων χρειάζεται λιγότερα δικαιώματα Συμβάλλοντα δεδομένων αντικειμένου Blob χώρου αποθήκευση στον λογαριασμό χώρου αποθήκευσης.

- Τα δεδομένα στο Data Lake Storage θα πρέπει να ακολουθούν το πρότυπο κοινού μοντέλου δεδομένων για την αποθήκευση των δεδομένων σας και να έχουν τη δηλωτικό κοινού μοντέλου δεδομένων που αντιπροσωπεύει το σχήμα των αρχείων δεδομένων (*.csv ή *.parquet). Το δηλωτικό πρέπει να παρέχει τις λεπτομέρειες των οντοτήτων, όπως στήλες οντοτήτων και τύποι δεδομένων, καθώς και τη θέση του αρχείου δεδομένων και τον τύπο αρχείου. Για περισσότερες πληροφορίες δείτε το [δηλωτικό Common Data Model](/common-data-model/sdk/manifest). Εάν δεν υφίσταται δηλωτικό, οι χρήστες της διαχείρισης με κάτοχο δεδομένων αντικειμένου blob χώρου αποθήκευσης ή συμμετέχοντα για δεδομένα αντικειμένου blob χώρου αποθήκευσης μπορούν να ορίσουν το σχήμα κατά την πρόσληψη των δεδομένων.

## <a name="recommendations"></a>Προτάσεις

Για βέλτιστη απόδοση, το Customer Insights συνιστά το μέγεθος ενός διαμερίσματος να είναι 1 GB ή μικρότερο και ο αριθμός των αρχείων διαμερισμάτων σε ένα φάκελο δεν πρέπει να υπερβαίνει τα 1000.

## <a name="connect-to-azure-data-lake-storage"></a>Σύνδεση στο Azure Data Lake Storage

1. Μεταβείτε στα **Δεδομένα** > **Προελεύσεις δεδομένων**.

1. Επιλέξτε **Προσθήκη προέλευσης δεδομένων**.

1. Επιλέξτε **Azure data lake storage**.

   :::image type="content" source="media/data_sources_ADLS.png" alt-text="Παράθυρο διαλόγου για την εισαγωγή λεπτομερειών σύνδεσης για το Azure Data Lake." lightbox="media/data_sources_ADLS.png":::

1. Καταχωρήστε ένα **Όνομα** για την προέλευση δεδομένων και μια προαιρετική **Περιγραφή**. Το όνομα προσδιορίζει με μοναδικό τρόπο την προέλευση δεδομένων και αναφέρεται σε καθοδικές διεργασίες και δεν μπορεί να αλλάξει.

1. Επιλέξτε μία από τις ακόλουθες επιλογές για τη **Σύνδεση του χώρου αποθήκευσης με χρήση**. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Σύνδεση Customer Insights σε ένα λογαριασμό Azure Data Lake Storage Gen2 με κύριο υπηρεσίας Azure](connect-service-principal.md).

   - **Πόρος Azure**: Πληκτρολογήστε το **αναγνωριστικό πόρου**. Προαιρετικά, εάν θέλετε να κάνετε πρόσληψη δεδομένων από ένα λογαριασμό χώρου αποθήκευσης μέσω μιας ιδιωτικής σύνδεσης Azure, επιλέξτε **Ενεργοποίηση ιδιωτικής σύνδεσης**. Για περισσότερες πληροφορίες, ανατρέξτε στην ενότητα [Ιδιωτικές συνδέσεις](security-overview.md#set-up-an-azure-private-link).
   - **Συνδρομή Azure**: Επιλέξτε τη **συνδρομή** και, στη συνέχεια, την **ομάδα πόρων** και **λογαριασμό χώρου αποθήκευσης**. Προαιρετικά, εάν θέλετε να κάνετε πρόσληψη δεδομένων από ένα λογαριασμό χώρου αποθήκευσης μέσω μιας ιδιωτικής σύνδεσης Azure, επιλέξτε **Ενεργοποίηση ιδιωτικής σύνδεσης**. Για περισσότερες πληροφορίες, ανατρέξτε στην ενότητα [Ιδιωτικές συνδέσεις](security-overview.md#set-up-an-azure-private-link).
  
   > [!NOTE]
   > Χρειάζεστε έναν από τους παρακάτω ρόλους είτε στο κοντέινερ ή στο λογαριασμό χώρου αποθήκευσης για να δημιουργήστε την προέλευση δεδομένων:
   >
   >  - Ο αναγνώστης δεδομένων αντικειμένου Blob χώρου αποθήκευσης είναι επαρκής για την ανάγνωση από ένα λογαριασμό χώρου αποθήκευσης και τη λήψη των δεδομένων στο Customer Insights.
   >  - Εάν θέλετε να επεξεργαστείτε τα αρχεία δηλωτικού απευθείας στο Customer Insights, απαιτείται συμμετέχων ή κάτοχος δεδομένων αντικειμένου Blob χώρου αποθήκευσης.  
  
1. Επιλέξτε το όνομα του **κοντέινερ** που περιέχει τα δεδομένα και το σχήμα (αρχείο model.json ή manifest.json) από το οποίο θα γίνει η εισαγωγή δεδομένων και επιλέξτε **Επόμενο**.
   > [!NOTE]
   > Οποιοδήποτε αρχείο model.json ή manifest.json που σχετίζεται με μια άλλη προέλευση δεδομένων στο περιβάλλον δεν θα εμφανίζεται στη λίστα. Ωστόσο, το ίδιο αρχείο model.json ή manifest.json μπορεί να χρησιμοποιηθεί για προελεύσεις δεδομένων σε πολλαπλά περιβάλλοντα.

1. Για να δημιουργήσετε ένα νέο σχήμα, μεταβείτε στην επιλογή [Δημιουργία νέου αρχείου σχήματος](#create-a-new-schema-file).

1. Για να χρησιμοποιήσετε ένα υπάρχον σχήμα, μεταβείτε στο φάκελο που περιέχει το αρχείο model.json ή manifest.cdm.json. Μπορείτε να κάνετε αναζήτηση σε έναν κατάλογο για να βρείτε το αρχείο.

1. Επιλέξτε το αρχείο json και επιλέξτε **Επόμενο**. Εμφανίζεται μια λίστα διαθέσιμων οντοτήτων.

   :::image type="content" source="media/review-entities.png" alt-text="Παράθυρο διαλόγου μιας λίστας οντοτήτων για επιλογή":::

1. Επιλέξτε τις οντότητες υπογραφή που θέλετε να συμπεριλάβετε.

   :::image type="content" source="media/ADLS_required.png" alt-text="Παράθυρο διαλόγου που εμφανίζει την επιλογή Απαιτείται για πρωτεύον κλειδί":::

   > [!TIP]
   > Για να επεξεργαστείτε μια οντότητα σε μια διεπαφή επεξεργασίας JSON, επιλέξτε την οντότητα και στη συνέχεια **Επεξεργασία αρχείου σχήματος**. Κάντε τις αλλαγές σας και επιλέξτε **Αποθήκευση**.

1. Για επιλεγμένες οντότητες που απαιτούν διαδοχική πρόσληψη, εμφανίζεται η ένδειξη **Απαιτείται** στην περιοχή **Προσαυξητική ανανέωση**. Για καθεμία από αυτές τις οντότητες, ανατρέξτε στο θέμα [Ρύθμιση παραμέτρων μιας προσαυξητικής ανανέωσης για τις προελεύσεις δεδομένων Azure Data Lake](incremental-refresh-data-sources.md).

1. Για επιλεγμένες οντότητες, στις οποίες δεν έχει οριστεί πρωτεύον κλειδί, το στοιχείο **Απαιτείται** εμφανίζεται στην περιοχή **Πρωτεύον κλειδί**. Για καθεμία από αυτές τις οντότητες:
   1. Επιλέξτε **Απαιτείται**. Εμφανίζεται ο πίνακας **Επεξεργασία οντότητας**.
   1. Επιλέξτε το **πρωτεύον κλειδί**. Το πρωτεύον κλειδί είναι ένα χαρακτηριστικό που είναι μοναδικό για την οντότητα. Για να είναι ένα χαρακτηριστικό έγκυρο πρωτεύον κλειδί, δεν πρέπει να περιλαμβάνει διπλότυπες τιμές, τιμές που λείπουν ή τιμές null. Τα χαρακτηριστικά τύπου δεδομένων συμβολοσειράς, ακέραιου και GUID υποστηρίζονται ως πρωτεύοντα κλειδιά.
   1. Προαιρετικά, αλλάξτε το μοτίβο διαμερίσματος.
   1. Επιλέξτε το στοιχείο **Κλείσιμο** για να αποθηκεύσετε και να κλείσετε τον πίνακα.

1. Επιλέξτε τον αριθμό των **Χαρακτηριστικών** για κάθε οντότητα που περιλαμβάνεται. Εμφανίζεται η σελίδα **Διαχείριση χαρακτηριστικών**.

   :::image type="content" source="media/dataprofiling-entities.png" alt-text="Παράθυρο διαλόγου για την επιλογή της δημιουργίας προφίλ δεδομένων.":::

   1. Δημιουργήστε νέα χαρακτηριστικά, επεξεργαστείτε ή διαγράψτε υπάρχοντα χαρακτηριστικά. Μπορείτε να αλλάξετε το όνομα, τη μορφή των δεδομένων ή να προσθέσετε έναν σημασιολογικό τύπο.
   1. Για να ενεργοποιήσετε την ανάλυση και άλλες δυνατότητες, επιλέξτε **Δημιουργία προφίλ δεδομένων** για ολόκληρη την οντότητα ή για συγκεκριμένα χαρακτηριστικά. Από προεπιλογή, δεν έχει ενεργοποιηθεί καμία οντότητα για τη δημιουργία προφίλ δεδομένων.
   1. Επιλέξτε **Τέλος**.

1. Επιλέξτε **Αποθήκευση**. Ανοίγει η σελίδα **Προελεύσεις δεδομένων** που εμφανίζει τη νέα προέλευση δεδομένων σε κατάσταση **Ανανέωσης**.

   [!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

Η φόρτωση των δεδομένων μπορεί να διαρκέσει πολύ. Μετά από μια επιτυχημένη ανανέωση, τα δεδομένα που απορροφήθηκαν μπορούν να ελεγχθούν από τη σελίδα [**Οντότητες**](entities.md).

### <a name="create-a-new-schema-file"></a>Δημιουργήστε ένα νέο αρχείο σχήματος

1. Επιλέξτε **Νέο αρχείο σχήματος**.

1. Εισαγάγετε ένα όνομα για το αρχείο και επιλέξτε **Αποθήκευση**.

1. Επιλέξτε **νέα οντότητα**. Εμφανίζεται ο πίνακας **Νέα οντότητα**.

1. Πληκτρολογήστε το όνομα της οντότητας και επιλέξτε τη **Θέση των αρχείων δεδομένων**.
   - **Πολλαπλά αρχεία .csv ή .parquet**: Μεταβείτε στο φάκελο ρίζας, επιλέξτε τον τύπο μοτίβου και εισαγάγετε την έκφραση.
   - **Ένα αρχείο .csv ή .parquet**: Μεταβείτε στο αρχείο .csv ή .parquet και επιλέξτε το.

   :::image type="content" source="media/ADLS_new_entity_location.png" alt-text="Παράθυρο διαλόγου για τη δημιουργία μιας νέας οντότητας με επισημασμένη την τοποθεσία των αρχείων δεδομένων.":::

1. Επιλέξτε **Αποθήκευση**.

   :::image type="content" source="media/ADLS_new_entity_define_attributes.png" alt-text="Παράθυρο διαλόγου για να καθορίσετε ή να δημιουργήσετε αυτόματα χαρακτηριστικά.":::

1. Επιλέξτε να **καθορίσετε τα χαρακτηριστικά** για να προσθέσετε τα χαρακτηριστικά με μη αυτόματο τρόπο ή επιλέξτε **την αυτόματη δημιουργία τους**. Για να ορίσετε τα χαρακτηριστικά, πληκτρολογήστε ένα όνομα, επιλέξτε τη μορφή δεδομένων και τον προαιρετικό σημασιολογικό τύπο. Για χαρακτηριστικά αυτόματης δημιουργίας:

   1. Αφού δημιουργηθούν αυτόματα τα χαρακτηριστικά, επιλέξτε **Εξέταση χαρακτηριστικών**. Εμφανίζεται η σελίδα **Διαχείριση χαρακτηριστικών**.

   1. Βεβαιωθείτε ότι η μορφή δεδομένων είναι σωστή για κάθε χαρακτηριστικό.

   1. Για να ενεργοποιήσετε την ανάλυση και άλλες δυνατότητες, επιλέξτε **Δημιουργία προφίλ δεδομένων** για ολόκληρη την οντότητα ή για συγκεκριμένα χαρακτηριστικά. Από προεπιλογή, δεν έχει ενεργοποιηθεί καμία οντότητα για τη δημιουργία προφίλ δεδομένων.

      :::image type="content" source="media/dataprofiling-entities.png" alt-text="Παράθυρο διαλόγου για την επιλογή της δημιουργίας προφίλ δεδομένων.":::

   1. Επιλέξτε **Τέλος**. Εμφανίζεται η σελίδα **Επιλογή οντοτήτων**.

1. Συνεχίστε να προσθέτετε οντότητες και χαρακτηριστικά, εάν ισχύουν.

1. Αφού προστεθούν όλες οι οντότητες, επιλέξτε **Συμπερίληψη** για να συμπεριλάβετε τις οντότητες στην πρόσληψη προέλευσης δεδομένων.

   :::image type="content" source="media/ADLS_required.png" alt-text="Παράθυρο διαλόγου που εμφανίζει την επιλογή Απαιτείται για πρωτεύον κλειδί":::

1. Για επιλεγμένες οντότητες που απαιτούν διαδοχική πρόσληψη, εμφανίζεται η ένδειξη **Απαιτείται** στην περιοχή **Προσαυξητική ανανέωση**. Για καθεμία από αυτές τις οντότητες, ανατρέξτε στο θέμα [Ρύθμιση παραμέτρων μιας προσαυξητικής ανανέωσης για τις προελεύσεις δεδομένων Azure Data Lake](incremental-refresh-data-sources.md).

1. Για επιλεγμένες οντότητες, στις οποίες δεν έχει οριστεί πρωτεύον κλειδί, το στοιχείο **Απαιτείται** εμφανίζεται στην περιοχή **Πρωτεύον κλειδί**. Για καθεμία από αυτές τις οντότητες:
   1. Επιλέξτε **Απαιτείται**. Εμφανίζεται ο πίνακας **Επεξεργασία οντότητας**.
   1. Επιλέξτε το **πρωτεύον κλειδί**. Το πρωτεύον κλειδί είναι ένα χαρακτηριστικό που είναι μοναδικό για την οντότητα. Για να είναι ένα χαρακτηριστικό έγκυρο πρωτεύον κλειδί, δεν πρέπει να περιλαμβάνει διπλότυπες τιμές, τιμές που λείπουν ή τιμές null. Τα χαρακτηριστικά τύπου δεδομένων συμβολοσειράς, ακέραιου και GUID υποστηρίζονται ως πρωτεύοντα κλειδιά.
   1. Προαιρετικά, αλλάξτε το μοτίβο διαμερίσματος.
   1. Επιλέξτε το στοιχείο **Κλείσιμο** για να αποθηκεύσετε και να κλείσετε τον πίνακα.

1. Επιλέξτε **Αποθήκευση**. Ανοίγει η σελίδα **Προελεύσεις δεδομένων** που εμφανίζει τη νέα προέλευση δεδομένων σε κατάσταση **Ανανέωσης**.

   [!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

Η φόρτωση των δεδομένων μπορεί να διαρκέσει πολύ. Μετά από μια επιτυχημένη ανανέωση, τα δεδομένα που απορροφήθηκαν μπορούν να ελεγχθούν από τη σελίδα [**Οντότητες**](entities.md).

## <a name="edit-an-azure-data-lake-storage-data-source"></a>Επεξεργασία προέλευσης δεδομένων Azure Data Lake Storage

Μπορείτε να ενημερώσετε την επιλογή *Σύνδεση στον λογαριασμό χώρου αποθήκευσης χρησιμοποιώντας*. Για περισσότερες πληροφορίες, ανατρέξτε στο θέμα [Σύνδεση Customer Insights σε ένα λογαριασμό Azure Data Lake Storage Gen2 με κύριο υπηρεσίας Azure](connect-service-principal.md). Για να συνδεθείτε σε διαφορετικό κοντέινερ από το λογαριασμό αποθήκευσης ή να αλλάξετε το όνομα του λογαριασμού, θα πρέπει να [δημιουργήσετε μια νέα σύνδεση προέλευσης δεδομένων](#connect-to-azure-data-lake-storage).

1. Μεταβείτε στα **Δεδομένα** > **Προελεύσεις δεδομένων**.

1. Δίπλα στο προέλευση δεδομένων θέλετε να ενημερώσετε, επιλέξτε **Επεξεργασία**.

   :::image type="content" source="media/data_sources_edit_ADLS.png" alt-text="Παράθυρο διαλόγου για να επεξεργαστείτε προέλευση δεδομένων Azure Data Lake.":::

1. Αλλάξτε οποιαδήποτε από τις παρακάτω πληροφορίες:

   - **Περιγραφή**
   - **Συνδέστε τον χώρο αποθήκευσης χρησιμοποιώντας** και πληροφορίες σύνδεσης. Δεν μπορείτε να αλλάξετε τις πληροφορίες **Κοντέινερ** κατά την ενημέρωση της σύνδεσης.
      > [!NOTE]
      > Ένας από τους παρακάτω ρόλους πρέπει να εκχωρείται στο λογαριασμό χώρου αποθήκευσης ή στο κοντέινερ:
        > - Αναγνώστης δεδομένων blob αποθήκευσης
        > - Κάτοχος δεδομένων blob αποθήκευσης
        > - Συμβάλλων δεδομένων Blob αποθήκευσης

   - Επιλέξτε **Ενεργοποίηση ιδιωτικής σύνδεσης** εάν θέλετε να κάνετε πρόσληψη δεδομένων από ένα λογαριασμό χώρου αποθήκευσης μέσω μιας ιδιωτικής σύνδεσης Azure. Για περισσότερες πληροφορίες, ανατρέξτε στην ενότητα [Ιδιωτικές συνδέσεις](security-overview.md#set-up-an-azure-private-link).

1. Επιλέξτε **Επόμενο**.
1. Αλλάξτε οποιαδήποτε από τα παρακάτω:
   - Μεταβείτε σε διαφορετικό αρχείο model.json ή manifest.json με διαφορετικό σύνολο οντοτήτων από το κοντέινερ.
   - Για να προσθέσετε επιπλέον οντότητες προς πρόσληψη, επιλέξτε **Νέα οντότητα**.
   - Για να καταργήσετε οποιεσδήποτε ήδη επιλεγμένες οντότητες, εάν δεν υπάρχουν εξαρτήσεις, επιλέξτε την οντότητα και **Διαγράψτε**.
      > [!IMPORTANT]
      > Εάν υπάρχουν εξαρτήσεις από το υπάρχον αρχείο model.json ή manifest.json και το σύνολο οντοτήτων, θα δείτε ένα μήνυμα σφάλματος και δεν μπορείτε να επιλέξετε διαφορετικό αρχείο model.json ή manifest.json. Καταργήστε αυτές τις εξαρτήσεις πριν αλλάξετε το αρχείο model.json ή manifest.json ή δημιουργήσετε μια νέα προέλευση δεδομένων με το αρχείο model.json ή manifest.json που θέλετε να χρησιμοποιήσετε για να αποφύγετε την κατάργηση των εξαρτήσεων.
   - Για να αλλάξετε τη θέση του αρχείου δεδομένων ή το πρωτεύον κλειδί, επιλέξτε **Επεξεργασία**.
   - Για να αλλάξετε τα δεδομένα της σταδιακής πρόσληψης, βλ [Διαμορφώστε μια σταδιακή ανανέωση για πηγές δεδομένων Azure Data Lake](incremental-refresh-data-sources.md).
   - Αλλάξτε μόνο το όνομα οντότητας ώστε να ταιριάζει με το όνομα οντότητας στο αρχείο .json.

     > [!NOTE]
     > Διατηρείτε πάντα το όνομα της οντότητας στο Customer Insights ίδιο με το όνομα της οντότητας μέσα στο αρχείο model.json ή manifest.json μετά την πρόσληψη. Το Customer Insights επικυρώνει όλα τα ονόματα οντοτήτων με το model.json ή το manifest.json κατά τη διάρκεια κάθε ανανέωσης συστήματος. Εάν το όνομα μιας οντότητας αλλάξει είτε εντός του Customer Insights είτε εκτός, προκύπτει σφάλμα επειδή το Customer Insights δεν μπορεί να βρει το νέο όνομα οντότητας στο αρχείο .json. Εάν ένα όνομα οντότητας που έχει απορροφηθεί άλλαξε κατά λάθος, επεξεργαστείτε το όνομα της οντότητας στο Customer Insights ώστε να ταιριάζει με το όνομα στο αρχείο .json.

1. Επιλέξτε **Χαρακτηριστικά** για να προσθέσετε ή να αλλάξετε χαρακτηριστικά ή για να ενεργοποιήσετε τη δημιουργία προφίλ δεδομένων. Έπειτα, επιλέξτε **Τέλος**.

1. Κάντε κλικ στο **Αποθήκευση** για να εφαρμόσετε τις αλλαγές σας και να επιστρέψετε στη σελίδα **Προελεύσεις δεδομένων**.

   [!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

## <a name="common-reasons-for-ingestion-errors-or-corrupt-data"></a>Κοινοί λόγοι για σφάλματα πρόσληψης ή κατεστραμμένα δεδομένα

Κατά τη διάρκεια της πρόσληψης δεδομένων, ορισμένοι από τους πιο συνηθισμένους λόγους για τους οποίους μια καρτέλα ενδέχεται να θεωρηθεί κατεστραμμένη είναι οι εξής:

- Οι τύποι δεδομένων και οι τιμές πεδίων δεν συμφωνούν μεταξύ του αρχείου προέλευσης και του σχήματος
- Ο αριθμός στηλών στο αρχείο προέλευσης δεν συμφωνεί με το σχήμα
- Τα πεδία περιέχουν χαρακτήρες που έχουν ως αποτέλεσμα οι στήλες να παραμορφώνονται συγκριτικά με το αναμενόμενο σχήμα. Για παράδειγμα: προσφορές με εσφαλμένη μορφή, προσφορές εντός παρενθέσεων, χαρακτήρες νέας γραμμής ή χαρακτήρες με καρτέλες.
- Λείπουν αρχεία διαμερισμάτων
- Εάν υπάρχουν στήλες datetime/date/datetimeoffset, η μορφή τους πρέπει να καθοριστεί στο σχήμα εάν δεν ακολουθεί την τυπική μορφή.

### <a name="schema-or-data-type-mismatch"></a>Αναντιστοιχία σχήματος ή τύπου δεδομένων

Εάν τα δεδομένα δεν συμμορφώνονται με το σχήμα, η διεργασία πρόσληψης ολοκληρώνεται με σφάλματα. Διορθώστε είτε τα δεδομένα προέλευσης είτε το σχήμα και προσλάβετε εκ νέου τα δεδομένα.

### <a name="partition-files-are-missing"></a>Λείπουν αρχεία διαμερισμάτων

- Εάν η πρόσληψη ήταν επιτυχής χωρίς κατεστραμμένες καρτέλες, αλλά δεν μπορείτε να δείτε δεδομένα, επεξεργαστείτε το αρχείο model.json ή manifest.json για να βεβαιωθείτε ότι έχουν καθοριστεί τμήματα. Έπειτα, [ανανεώστε την προέλευση δεδομένων](data-sources.md#refresh-data-sources).

- Εάν η πρόσληψη δεδομένων συμβαίνει ταυτόχρονα με την ανανέωση των προελεύσεων δεδομένων κατά τη διάρκεια μιας αυτόματης ανανέωσης χρονοδιαγράμματος, τα αρχεία διαμερισμάτων μπορεί να είναι κενά ή να μην είναι διαθέσιμα για επεξεργασία από το Customer Insights. Για να εναρμονιστείτε με το χρονοδιάγραμμα ανανέωσης ανάντη, αλλάξτε το [χρονοδιάγραμμα ανανέωσης του συστήματος](schedule-refresh.md) ή το χρονοδιάγραμμα ανανέωσης για την προέλευση δεδομένων. Στοιχίστε τον χρονισμό ώστε οι ανανεώσεις να μην γίνονται όλες ταυτόχρονα και να παρέχουν τα πιο πρόσφατα δεδομένα που πρέπει να υποβληθούν σε επεξεργασία στο Customer Insights.

### <a name="datetime-fields-in-the-wrong-format"></a>Πεδία ημερομηνίας ώρας σε λάθος μορφή

Τα πεδία ημερομηνίας και ώρας στην οντότητα δεν είναι σε μορφές ISO 8601 ή en-US. Η προεπιλεγμένη μορφή ημερομηνίας και ώρας στο Customer Insights είναι μορφή en-US. Όλα τα πεδία ημερομηνίας και ώρας σε μια οντότητα θα πρέπει να έχουν την ίδια μορφή. Το Customer Insights υποστηρίζει άλλες μορφές, εφόσον τα σχόλια ή τα χαρακτηριστικά πραγματοποιούνται στο επίπεδο προέλευσης ή οντότητας στο μοντέλο ή το manifest.json. Για παράδειγμα: 

**Model.json**

   ```json
      "annotations": [
        {
          "name": "ci:CustomTimestampFormat",
          "value": "yyyy-MM-dd'T'HH:mm:ss:SSS"
        },
        {
          "name": "ci:CustomDateFormat",
          "value": "yyyy-MM-dd"
        }
      ]   
   ```

  Σε ένα manifest.json, η μορφή ημερομηνίας και ώρας μπορεί να καθοριστεί στο επίπεδο οντότητας ή στο επίπεδο χαρακτηριστικού. Στο επίπεδο οντότητας, χρησιμοποιήστε τη λέξη "exhibitsTraits" στην οντότητα στο *.manifest.cdm.json για να καθορίσετε τη μορφή ημερομηνίας και ώρας. Στο επίπεδο χαρακτηριστικού, χρησιμοποιήστε το χαρακτηριστικό "appliedTraits" στο χαρακτηριστικό entityname.cdm.json.

**Manifest.json σε επίπεδο οντότητας**

```json
"exhibitsTraits": [
    {
        "traitReference": "is.formatted.dateTime",
        "arguments": [
            {
                "name": "format",
                "value": "yyyy-MM-dd'T'HH:mm:ss"
            }
        ]
    },
    {
        "traitReference": "is.formatted.date",
        "arguments": [
            {
                "name": "format",
                "value": "yyyy-MM-dd"
            }
        ]
    }
]
```

**Entity.json σε επίπεδο χαρακτηριστικού**

```json
   {
      "name": "PurchasedOn",
      "appliedTraits": [
        {
          "traitReference": "is.formatted.date",
          "arguments" : [
            {
              "name": "format",
              "value": "yyyy-MM-dd"
            }
          ]
        },
        {
          "traitReference": "is.formatted.dateTime",
          "arguments" : [
            {
              "name": "format",
              "value": "yyyy-MM-ddTHH:mm:ss"
            }
          ]
        }
      ],
      "attributeContext": "POSPurchases/attributeContext/POSPurchases/PurchasedOn",
      "dataFormat": "DateTime"
    }
```

[!INCLUDE [footer-include](includes/footer-banner.md)]
