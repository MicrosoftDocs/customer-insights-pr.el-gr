---
title: Σχέσεις μεταξύ οντοτήτων και διαδρομές οντοτήτων
description: Δημιουργήστε και διαχειριστείτε σχέσεις μεταξύ οντοτήτων από πολλαπλές προελεύσεις δεδομένων.
ms.date: 09/27/2021
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: conceptual
author: CadeSanthaMSFT
ms.author: cadesantha
manager: shellyha
searchScope:
- ci-semantic-mapping
- ci-entities
- ci-relationships
- ci-activities
- ci-activities-wizard
- ci-measures
- ci-segments
- ci-segment-builder
- ci-measure-builder
- ci-measure-template
- ci-permissions
- customerInsights
ms.openlocfilehash: 5477798a8b9e0771d390e403379b7447eb7baddd
ms.sourcegitcommit: dca46afb9e23ba87a0ff59a1776c1d139e209a32
ms.translationtype: HT
ms.contentlocale: el-GR
ms.lasthandoff: 06/29/2022
ms.locfileid: "9081439"
---
# <a name="relationships-between-entities-and-entity-paths"></a>Σχέσεις μεταξύ οντοτήτων και διαδρομές οντοτήτων

Οι σχέσεις συνδέουν οντότητες και ορίζουν ένα γράφημα των δεδομένων σας όταν οι οντότητες έχουν ένα κοινό αναγνωριστικό, ένα ξένο κλειδί. Αυτό το ξένο κλειδί μπορεί να παραπέμπεται από τη μία οντότητα σε μια άλλη. Οι συνδεδεμένες οντότητες επιτρέπουν τον καθορισμό τμημάτων και μετρήσεων με βάση πολλαπλές προελεύσεις δεδομένων.

Υπάρχουν τρεις τύποι σχέσεων: 
- Μη επεξεργάσιμες σχέσεις συστήματος, που δημιουργήθηκαν από το σύστημα ως μέρος της διεργασίας ενοποίησης δεδομένων
- Μη επεξεργάσιμες μεταβιβαζόμενες σχέσεις, οι οποίες δημιουργούνται αυτόματα από τη συγχώνευση προελεύσεων δεδομένων 
- Επεξεργάσιμες προσαρμοσμένες σχέσεις, που δημιουργούνται και ρυθμίζονται από τους χρήστες

## <a name="non-editable-system-relationships"></a>Μη επεξεργάσιμες σχέσεις συστήματος

Κατά τη διάρκεια της ενοποίησης δεδομένων, δημιουργούνται σχέσεις συστήματος αυτόματα με βάση την έξυπνη αντιστοίχιση. Αυτές οι σχέσεις συμβάλουν στη συσχέτιση των καρτελών προφίλ πελατών με αντίστοιχες καρτέλες. Το παρακάτω διάγραμμα παρουσιάζει τη δημιουργία τριών σχέσεων βάσει συστήματος. Η οντότητα πελάτη αντιστοιχίζεται με άλλες οντότητες για την παραγωγή της ενοποιημένης οντότητας *Πελάτη*.

:::image type="content" source="media/relationships-entities-merge.png" alt-text="Διάγραμμα με διαδρομές σχέσεων για την οντότητα του πελάτη με τρεις σχέσεις 1-n.":::

- Η **σχέση *CustomerToContact*** δημιουργήθηκε μεταξύ της οντότητας *Πελάτη* και της οντότητας *Επαφή*. Η οντότητα *Πελάτης* λαμβάνει το πεδίο κλειδιού **Contact_contactID** για τη συσχέτιση με την οντότητα *Επαφή* στο πεδίο κλειδιού **contactID**.
- Η **σχέση *CustomerToAccount*** δημιουργήθηκε μεταξύ της οντότητας *Πελάτης* και της οντότητας *Λογαριασμός*. Η οντότητα *Πελάτης* λαμβάνει το πεδίο κλειδιού **Account_accountID** που σχετίζεται με την οντότητα *Account* στο πεδίο κλειδιού **accountID**.
- Η **σχέση *CustomerToWebAccount*** δημιουργήθηκε μεταξύ της οντότητας *Πελάτη* και της οντότητας *Λογαριασμός Web*. Η οντότητα *Πελάτη* λαμβάνει το πεδίο κλειδιού **WebAccount_webaccountID** για τη συσχέτιση με την οντότητα *Λογαριασμός Web* στο πεδίο κλειδιού **webaccountID**.

## <a name="non-editable-inherited-relationships"></a>Μη επεξεργάσιμες μεταβιβαζόμενες σχέσεις

Κατά τη διεργασία ενσωμάτωσης δεδομένων, το σύστημα ελέγχει τις προελεύσεις δεδομένων για υπάρχουσες σχέσεις. Εάν δεν υπάρχει σχέση, το σύστημα τις δημιουργεί αυτόματα. Αυτές οι σχέσεις χρησιμοποιούνται επίσης στις κατάντη διεργασίες.

## <a name="create-a-custom-relationship"></a>Δημιουργία προσαρμοσμένης σχέσης

Η σχέση αποτελείται από μια *οντότητα προέλευσης* που περιέχει το ξένο κλειδί και μια *οντότητα προορισμού* στην οποία παραπέμπει το ξένο κλειδί της οντότητας προέλευσης. 

1. Μεταβείτε στα **Δεδομένα** > **Σχέσεις**.

2. Επιλέξτε **Νέα σχέση**.

3. Στο τμήμα παραθύρου **Νέα σχέση**, δώστε τις εξής πληροφορίες:

   :::image type="content" source="media/relationship-add.png" alt-text="Πλαϊνό παράθυρο νέας σχέσης με κενά πεδία εισαγωγής.":::

   - **Όνομα σχέσης**: Όνομα που απεικονίζει το σκοπό της σχέσης. Παράδειγμα: CustomerToSupportCase.
   - **Περιγραφή**: Περιγραφή της σχέσης.
   - **Οντότητα προέλευσης**: Οντότητα που χρησιμοποιείται ως προέλευση στη σχέση. Παράδειγμα: SupportCase.
   - **Οντότητα προορισμού**: Οντότητα που χρησιμοποιείται ως προορισμός στη σχέση. Παράδειγμα: Πελάτης.
   - **Πληθάριθμος προέλευσης**: Καθορίστε τον πληθάριθμο της οντότητας προέλευσης. Ο πληθάριθμος περιγράφει τον αριθμό των πιθανών στοιχείων σε ένα σύνολο. Σχετίζεται πάντα με τον πληθάριθμο προορισμού. Μπορείτε να επιλέξετε μεταξύ **Ένα** και **Πολλά**. Υποστηρίζονται μόνο σχέσεις πολλά προς ένα και ένα προς ένα.  
     - Πολλά προς ένα: Πολλές καρτέλες προέλευσης μπορούν να συσχετιστούν με μία καρτέλα προορισμού. Παράδειγμα: Πολλαπλές υποθέσεις υποστήριξης από έναν μεμονωμένο πελάτη.
     - Ένα προς ένα: Μια μεμονωμένη καρτέλα προέλευσης σχετίζεται με μια καρτέλα προορισμού. Παράδειγμα: Ένα αναγνωριστικό αφοσίωσης για έναν μεμονωμένο πελάτη.

     > [!NOTE]
     > Οι σχέσεις πολλά προς πολλά μπορούν να δημιουργηθούν με τη χρήση δύο σχέσεων πολλά προς ένα και μιας οντότητας σύνδεσης, η οποία συνδέει την οντότητα προέλευσης και την οντότητα προορισμού.

   - **Προτεραιότητα στόχου**: Επιλέξτε την προτεραιότητα των καρτελών της οντότητας στόχου. 
   - **Πεδίο κλειδιού προέλευσης**: Το πεδίο εξωτερικού κλειδιού στην οντότητα προέλευσης. Παράδειγμα: Το SupportCase θα μπορούσε να χρησιμοποιήσει το CaseID ως πεδίο εξωτερικού κλειδιού.
   - **Πεδίο κλειδιού προορισμού**: Το πεδίο κλειδιού της οντότητας προορισμού. Παράδειγμα ο Πελάτης θα μπορούσε να χρησιμοποιήσει το πεδίο κλειδιού **CustomerID**.

4. Επιλέξτε **Αποθήκευση** για να αποθηκεύσετε την προσαρμοσμένη σχέση.

## <a name="set-up-account-hierarchies"></a>Διαμόρφωση ιεραρχιών λογαριασμών

Περιβάλλοντα που έχουν ρυθμιστεί ώστε να χρησιμοποιούν επιχειρηματικούς λογαριασμούς ως κύριους προορισμούς κοινού. μπορούν να ρυθμίσουν τις παραμέτρους ιεραρχιών λογαριασμών για σχετικούς επιχειρηματικούς λογαριασμούς. Για παράδειγμα, μια εταιρεία που έχει ξεχωριστές επιχειρηματικές μονάδες. 

Οι οργανισμοί δημιουργούν ιεραρχίες λογαριασμών για την καλύτερη διαχείριση των λογαριασμών και των σχέσεων μεταξύ τους. Το Customer Insights υποστηρίζει γονικές-θυγατρικές ιεραρχίες λογαριασμών που υπάρχουν ήδη σε προσλαμβανόμενα δεδομένα πελατών. Για παράδειγμα, λογαριασμοί από το Dynamics 365 Sales. Αυτές οι ιεραρχικές ρυθμίσεις μπορούν να ρυθμιστούν στη σελίδα **Σχέσεις**.

1. Μεταβείτε στα **Δεδομένα** > **Σχέσεις**.
1. Επιλέξτε την καρτέλα **Ιεραρχία λογαριασμού**.
1. Επιλέξτε **Νέα ιεραρχία λογαριασμού**. 
1. Στο τμήμα παραθύρου **Ιεραρχία λογαριασμών**, δώστε ένα όνομα για την ιεραρχία. Το σύστημα δημιουργεί ένα όνομα για την οντότητα εξόδου. Μπορείτε να αλλάξετε το όνομα της οντότητας ονόματος εξόδου.
1. Επιλέξτε την οντότητα που περιέχει την ιεραρχία λογαριασμού σας. Συνήθως βρίσκεται στην ίδια οντότητα που περιέχει τους λογαριασμούς.
1. Επιλέξτε το **αναγνωριστικό λογαριασμού** και το **γονικό αναγνωριστικό λογαριασμού** από την επιλεγμένη οντότητα 
1. Επιλέξτε **Αποθήκευση** για να εφαρμόσετε τις ρυθμίσεις και να οριστικοποιήσετε την ιεραρχία λογαριασμών.

## <a name="view-relationships"></a>Προβολή σχέσεων

Η σελίδα Σχέσεις παραθέτει όλες τις σχέσεις που έχουν δημιουργηθεί. Κάθε γραμμή αντιπροσωπεύει μια σχέση, η οποία περιλαμβάνει επίσης λεπτομέρειες σχετικά με την οντότητα προέλευσης, την οντότητα προορισμού και τον πληθάριθμο. 

:::image type="content" source="media/relationships-list.png" alt-text="Λίστα των σχέσεων και των επιλογών στη γραμμή ενεργειών της σελίδας Σχέσεις.":::

Αυτή η σελίδα προσφέρει ένα σύνολο επιλογών για υπάρχουσες και νέες σχέσεις: 
- **Νέα σχέση**: [Δημιουργία μιας προσαρμοσμένης σχέσης](#create-a-custom-relationship).
- **Οπτικοποίηση**: [Εξερευνήστε τη σχέση οπτικοποίησης](#explore-the-relationship-visualizer) για να δείτε ένα διάγραμμα δικτύου των υπαρχόντων σχέσεων και του πληθάριθμού τους.
- **Φιλτράρισμα κατά**: Επιλέξτε τον τύπο των σχέσεων που θα εμφανίζονται στη λίστα.
- **Αναζήτηση σχέσεων**: Χρησιμοποιήστε μια αναζήτηση που βασίζεται σε κείμενο στις ιδιότητες των σχέσεων.

### <a name="explore-the-relationship-visualizer"></a>Εξερεύνηση της οπτικοποίησης σχέσεων

Η οπτικοποίηση σχέσεων εμφανίζει ένα διάγραμμα δικτύου των υπαρχόντων σχέσεων μεταξύ συνδεδεμένων οντοτήτων και του πληθάριθμού τους. Επίσης, απεικονίζει τη διαδρομή της σχέσης.

Για να προσαρμόσετε την προβολή, μπορείτε να αλλάξετε τη θέση των πλαισίων σύροντάς τα στον καμβά.

:::image type="content" source="media/relationship-visualizer.png" alt-text="Στιγμιότυπο οθόνης του διαγράμματος δικτύου οπτικοποίησης σχέσεων με τις συνδέσεις μεταξύ σχετικών οντοτήτων.":::

Διαθέσιμες επιλογές: 
- **Εξαγωγή ως εικόνα**: Αποθηκεύστε την τρέχουσα προβολή ως αρχείο εικόνας.
- **Αλλαγή σε οριζόντια/κατακόρυφη διάταξη**: Αλλάξτε τη στοίχιση των οντοτήτων και των σχέσεων.
- **Επεξεργασία**: Ενημερώστε τις ιδιότητες των προσαρμοσμένων σχέσεων στο παράθυρο επεξεργασίας και αποθηκεύστε τις αλλαγές.

## <a name="relationship-paths"></a>Διαδρομές σχέσης

Μια διαδρομή σχέσης περιγράφει τις οντότητες που είναι συνδεδεμένες με σχέσεις μεταξύ μιας οντότητας προέλευσης και μιας οντότητας προορισμού. Χρησιμοποιείται κατά τη δημιουργία ενός τμήματος ή μιας μέτρησης που περιλαμβάνει άλλες οντότητες από την οντότητα ενοποιημένου προφίλ και υπάρχουν πολλές επιλογές για την προσέγγιση της οντότητας ενοποιημένου προφίλ. 

Μια διαδρομή σχέσης ενημερώνει το σύστημα σε ποιες σχέσεις να αποκτήσει πρόσβαση στην οντότητα ενοποιημένου προφίλ. Οι διαφορετικές διαδρομές σχέσεων μπορούν να αποδώσουν διαφορετικά αποτελέσματα.

Για παράδειγμα, η οντότητα *eCommerce_eCommercePurchases* έχει τις παρακάτω σχέσεις στην οντότητα ενοποιημένου προφίλ *Πελάτης*:

- eCommerce_eCommercePurchases > Πελάτης
- eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > Πελάτης
- eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > loyaltyScheme_loyCustomers > Πελάτης 

Μια διαδρομή σχέσης καθορίζει τις οντότητες που μπορείτε να χρησιμοποιήσετε κατά τη δημιουργία κανόνων για μέτρα ή τμήματα. Η επιλογή με τη μεγαλύτερη διαδρομή σχέσης είναι πιθανό να αποδώσει λιγότερα αποτελέσματα, επειδή οι αντίστοιχες καρτέλες πρέπει να αποτελούν μέρος όλων των οντοτήτων. Σε αυτό το παράδειγμα, ο πελάτης πρέπει να έχει αγοράσει αγαθά μέσω e-commerce(eCommerce_eCommercePurchases) σε ένα σημείο πώλησης (POS_posPurchases) και να συμμετέχει στο πρόγραμμα αφοσίωσής μας (loyaltyScheme_loyCustomers). Όταν κάνετε την πρώτη επιλογή, είναι πιθανό να έχετε περισσότερα αποτελέσματα, επειδή οι πελάτες χρειάζεται να υπάρχουν μόνο σε μία πρόσθετη οντότητα.

### <a name="direct-relationship"></a>Άμεση σχέση

Μια ταξινομείται ως **άμεση σχέση** όταν μια οντότητα προέλευσης σχετίζεται με μια οντότητα προορισμού με μόνο μία σχέση.

Για παράδειγμα, εάν μια οντότητα δραστηριότητας που ονομάζεται *eCommerce_eCommercePurchases* συνδέεται με μια οντότητα προορισμού *eCommerce_eCommerceContacts* μόνο μέσω *ContactId*, πρόκειται για άμεση σχέση.

:::image type="content" source="media/direct_Relationship.png" alt-text="Η οντότητα προέλευσης συνδέεται απευθείας με την οντότητα προορισμού.":::

#### <a name="multi-path-relationship"></a>Σχέση πολλών διαδρομών

Μια **σχέση πολλών διαδρομών** είναι ένας ειδικός τύπος άμεσης σχέσης που συνδέει μια οντότητα προέλευσης σε περισσότερες από μία οντότητες προορισμού.

Για παράδειγμα, εάν μια οντότητα δραστηριότητας που ονομάζεται *eCommerce_eCommercePurchases* σχετίζεται με δύο οντότητες προορισμού, και την *eCommerce_eCommerceContacts* και την *loyaltyScheme_loyCustomers*, πρόκειται για μια σχέση πολλών διαδρομών.

:::image type="content" source="media/multi-path_relationship.png" alt-text="Η οντότητα προέλευσης συνδέεται απευθείας με περισσότερες από μία οντότητες προορισμού μέσω μιας σχέσης πολλαπλής μεταπήδησης.":::

### <a name="indirect-relationship"></a>Έμμεση σχέση

Μια ταξινομείται ως **έμμεση σχέση** όταν μια οντότητα προέλευσης σχετίζεται με μια ή περισσότερες πρόσθετες οντότητες πριν τη συσχέτιση με μια οντότητα προορισμού.

#### <a name="multi-hop-relationship"></a>Σχέση πολλαπλής μεταπήδησης

Μια *σχέση πολλαπλής μεταπήδησης* είναι μια *έμμεση σχέση* που σας επιτρέπει να συνδέσετε μια οντότητα προέλευσης σε μια οντότητα προορισμού μέσω μίας ή περισσότερων άλλων ενδιάμεσων οντοτήτων.

Για παράδειγμα, εάν μια οντότητα δραστηριότητας με όνομα *eCommerce_eCommercePurchasesWest* συνδέεται με μια ενδιάμεση οντότητα που ονομάζεται *eCommerce_eCommercePurchasesEast* και, στη συνέχεια, συνδέεται με μια οντότητα προορισμού που ονομάζεται *eCommerce_eCommerceContacts*, είναι μια σχέση πολλαπλής μεταπήδησης.

:::image type="content" source="media/multi-hop_relationship.png" alt-text="Η οντότητα προέλευσης συνδέεται απευθείας με μια οντότητα προορισμού με μια ενδιάμεση οντότητα.":::

### <a name="multi-hop-multi-path-relationship"></a>Σχέση πολλαπλής μεταπήδησης, πολλών διαδρομών

Οι σχέσης πολλαπλών μεταπηδήσεων και πολλαπλών διαδρομών μπορούν να χρησιμοποιηθούν μαζί για τη δημιουργία **σχέσεων πολλαπλών μεταπηδήσεων, πολλών διαδρομών**. Αυτός ο ειδικός τύπος συνδυάζει τις λειτουργίες των σχέσεων **πολλαπλής μεταπήδησης** και **πολλών διαδρομών**. Σας επιτρέπει να συνδέεστε σε περισσότερες από μία οντότητες προορισμού ενώ χρησιμοποιείτε ενδιάμεσες οντότητες.

Για παράδειγμα, εάν μια οντότητα δραστηριότητας με όνομα *eCommerce_eCommercePurchasesWest* συνδέεται με μια ενδιάμεση οντότητα που ονομάζεται *eCommerce_eCommercePurchasesEast* και, στη συνέχεια, συνδέεται με δύο οντότητες προορισμού, και την *eCommerce_eCommerceContacts* και την *loyaltyScheme_loyCustomers*, είναι μια σχέση πολλαπλής μεταπήδησης, πολλών διαδρομών.

:::image type="content" source="media/multi-hop_multi-path_relationship.png" alt-text="Η οντότητα προέλευσης συνδέεται απευθείας με μια οντότητα προορισμού και συνδέεται με μια άλλη οντότητα προορισμού μέσω μιας ενδιάμεσης οντότητας.":::

## <a name="manage-existing-relationships"></a>Διαχείριση υπαρχουσών σχέσεων 

Στη σελίδα Σχέσεις, κάθε σχέση αντιπροσωπεύεται από μια γραμμή. 

Επιλέξτε μια σχέση και επιλέξτε μία από τις ακόλουθες επιλογές: 
 
- **Επεξεργασία**: Ενημερώστε τις ιδιότητες των προσαρμοσμένων σχέσεων στο παράθυρο επεξεργασίας και αποθηκεύστε τις αλλαγές.
- **Διαγραφή**: Διαγραφή προσαρμοσμένων σχέσεων.
- **Προβολή**: Προβάλετε τις σχέσεις που έχουν δημιουργηθεί από το σύστημα και τις μεταβιβαζόμενες σχέσεις. 

## <a name="next-step"></a>Επόμενο βήμα

Το σύστημα και οι σχέσεις συστήματος χρησιμοποιούνται για τη [δημιουργία τμημάτων](segments.md) και [μέτρα](measures.md) με βάση πολλές προελεύσεις δεδομένων που δεν είναι πλέον σε σιλό.

[!INCLUDE [footer-include](includes/footer-banner.md)]
